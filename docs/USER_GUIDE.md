# VHData Platform - Руководство пользователя

## 📖 Содержание

1. [Начало работы](#начало-работы)
2. [Управление проектами](#управление-проектами)
3. [Работа с базами данных](#работа-с-базами-данных)
4. [Импорт и экспорт данных](#импорт-и-экспорт-данных)
5. [Продвинутые типы колонок](#продвинутые-типы-колонок)
6. [Фильтрация и сортировка](#фильтрация-и-сортировка)
7. [Аналитика и отчеты](#аналитика-и-отчеты)
8. [AI-возможности](#ai-возможности)
9. [Совместная работа](#совместная-работа)
10. [Настройки и безопасность](#настройки-и-безопасность)

---

## Начало работы

### Регистрация

1. Перейдите на страницу регистрации
2. Введите email и пароль (минимум 8 символов)
3. Подтвердите email (в dev режиме автоматически)

### Вход в систему

1. Используйте ваш email и пароль
2. Опционально: вход через Google (требует настройки)

### Восстановление пароля

1. На странице входа нажмите "Забыли пароль?"
2. Введите ваш email
3. Перейдите по ссылке из письма
4. Установите новый пароль

---

## Управление проектами

### Создание проекта

1. На главной странице нажмите "Создать проект"
2. Заполните:
   - **Название** - отображаемое имя проекта
   - **Описание** - краткое описание проекта (опционально)
   - **Иконка** - выберите эмодзи (📁 по умолчанию)
   - **Цвет** - выберите цвет проекта
3. Нажмите "Создать"

### Редактирование проекта

1. Откройте проект
2. Нажмите на иконку редактирования
3. Измените параметры
4. Сохраните изменения

### Архивирование

- Архивированные проекты скрыты из главного списка
- Доступ: Фильтр "Показать архивные"

---

## Работа с базами данных

### Создание базы данных

1. Откройте проект
2. Нажмите "Создать базу данных"
3. Укажите:
   - **Название** - имя базы данных
   - **Описание** - описание данных
   - **Иконка** - эмодзи для визуальной идентификации
   - **Цвет** - цвет карточки
   - **Теги** - метки для организации
4. Нажмите "Создать"

### Настройка колонок

#### Типы колонок

**Базовые типы:**
- **Text** - текстовые данные
- **Number** - числовые значения
- **Boolean** - да/нет
- **Date** - даты
- **Email** - email адреса
- **URL** - веб-ссылки
- **Phone** - телефонные номера

**Продвинутые типы:**
- **Relation** - связь с другой таблицей
- **Lookup** - получение данных из связанной таблицы
- **Rollup** - агрегация данных
- **Formula** - вычисляемые поля

#### Добавление колонки

1. В разделе "Управление колонками" нажмите "+"
2. Заполните:
   - **Имя колонки** - уникальное название
   - **Тип данных** - выберите из списка
   - **Обязательное** - чекбокс для required полей
   - **Значение по умолчанию** - опционально
3. Сохраните

#### Изменение порядка колонок

- Используйте drag & drop (захват за иконку ⋮⋮)
- Новый порядок сохраняется автоматически

---

## Импорт и экспорт данных

### Импорт из CSV/Excel

1. Откройте базу данных
2. Нажмите "Загрузить файл"
3. Выберите файл (CSV, XLSX)
4. **Автоматический маппинг:**
   - Система автоматически сопоставит колонки
   - Проверьте соответствие (зеленые - совпадение)
5. Настройте параметры:
   - **Режим импорта**: 
     - Data - только данные
     - Schema - только схема
     - Both - данные и схема
   - **Дубликаты**:
     - Skip - пропустить
     - Update - обновить
     - Create - создать новые
6. Нажмите "Импортировать"

### Экспорт данных

1. В базе данных нажмите кнопку "Экспорт"
2. Выберите формат:
   - **CSV** - универсальный текстовый формат
   - **Excel (XLSX)** - таблицы Excel с форматированием
   - **JSON** - структурированные данные
3. Файл скачается автоматически

---

## Продвинутые типы колонок

### Relations (Связи)

**Настройка:**
1. Добавьте колонку типа "Relation"
2. Выберите целевую таблицу
3. Укажите тип связи:
   - **One-to-Many** - одна запись → много записей
   - **Many-to-Many** - много → много

**Использование:**
- Нажмите на ячейку
- Выберите связанную запись из списка
- Можно выбрать несколько (для M2M)

### Lookup (Поиск)

**Настройка:**
1. Требуется существующая Relation колонка
2. Добавьте Lookup колонку
3. Выберите:
   - Relation колонку
   - Поле для отображения

**Результат:**
- Автоматически показывает данные из связанной таблицы
- Обновляется при изменении источника

### Rollup (Агрегация)

**Настройка:**
1. Требуется Relation колонка
2. Добавьте Rollup колонку
3. Настройте:
   - Relation колонку
   - Целевое поле
   - Функцию агрегации:
     - **Count** - количество
     - **Sum** - сумма
     - **Avg** - среднее
     - **Min** - минимум
     - **Max** - максимум
     - **Median** - медиана
     - **Unique** - уникальные значения

**Пример:**
```
Проекты → Задачи (relation)
Rollup: SUM(Задачи.Время) = Общее время по проекту
```

### Formula (Формулы)

**Математические операции:**
```
{price} * {quantity}
{subtotal} + {tax}
round({price} * 1.2)
```

**Строковые функции:**
```
concat({first_name}, " ", {last_name})
upper({status})
trim({name})
```

**Логические выражения:**
```
if({quantity} > 10, "Bulk", "Retail")
if({status} = "active", {price}, 0)
```

**Даты:**
```
now()
today()
dateAdd({start_date}, 30)
dateDiff({end_date}, {start_date})
```

---

## Фильтрация и сортировка

### Фильтры

**Создание фильтра:**
1. Нажмите "Filters"
2. Добавьте условие (+)
3. Настройте:
   - **Колонка** - по какому полю фильтровать
   - **Оператор**:
     - `=` - равно
     - `≠` - не равно
     - `contains` - содержит
     - `starts with` - начинается с
     - `ends with` - заканчивается на
     - `>` / `<` / `≥` / `≤` - сравнение
   - **Значение** - искомое значение

**Множественные фильтры:**
- Добавляйте несколько условий
- Все условия применяются одновременно (AND логика)

### Сортировка

1. Выберите колонку для сортировки
2. Переключите направление:
   - ↑ - по возрастанию (A-Z, 0-9)
   - ↓ - по убыванию (Z-A, 9-0)
3. Очистите сортировку кнопкой "Clear"

### Пагинация

**Настройки:**
- **На странице**: 10, 25, 50, 100 записей
- **Навигация**: 
  - ⏮ - первая страница
  - ◀ - предыдущая
  - ▶ - следующая
  - ⏭ - последняя
- **Прямой переход**: введите номер страницы

---

## Аналитика и отчеты

### Графики

**Создание графика:**
1. Перейдите в "Analytics"
2. Нажмите "Создать график"
3. Выберите:
   - **Тип**: Line, Bar, Pie, Area
   - **Данные**: база данных
   - **X ось**: временная колонка или категория
   - **Y ось**: числовая колонка
   - **Группировка**: опционально
4. Настройте стиль и цвета
5. Сохраните

### Дашборды

**Создание дашборда:**
1. В Analytics нажмите "Новый дашборд"
2. Перетащите графики из галереи
3. Измените размер и расположение
4. Сохраните дашборд

### Отчеты

**Генерация отчета:**
1. Перейдите в "Reports"
2. Выберите шаблон или создайте новый
3. Настройте:
   - **Данные**: какие таблицы включить
   - **Фильтры**: какие данные показать
   - **Группировка**: как сгруппировать
4. Экспортируйте:
   - **PDF** - для печати и отправки
   - **Excel** - для дальнейшей обработки
   - **HTML** - для веб-публикации

---

## AI-возможности

### AI Помощник

**Доступ:**
- Кнопка "AI Помощник" (✨) в любой базе данных
- Горячая клавиша: Ctrl+K (в разработке)

**Возможности:**

#### 1. Schema Creator
```
Запрос: "Создай схему для CRM системы"

Результат: автоматически создаст колонки:
- Имя клиента (text)
- Email (email)
- Телефон (phone)
- Статус (text)
- Дата создания (date)
```

#### 2. Data Parser
```
Запрос: "Очисти телефонные номера в колонке Phone"

Результат: приведет все номера к единому формату:
+7 (999) 123-45-67
```

#### 3. OCR Processing
```
Использование:
1. Загрузите изображение с текстом/таблицей
2. AI распознает и структурирует данные
3. Данные автоматически добавятся в таблицу
```

### Стоимость AI операций

Операции тратят кредиты:
- Schema Creation: 10 кредитов
- Data Parsing: 5 кредитов
- OCR Processing: 15 кредитов

**Бесплатные кредиты:**
- 100 кредитов при регистрации
- Пополнение через Settings → Credits

---

## Совместная работа

### Добавление участников

1. Откройте проект
2. Нажмите "Участники"
3. Введите email пользователя
4. Выберите роль
5. Отправьте приглашение

### Роли и права

**Owner (Владелец):**
- Полный доступ
- Управление участниками
- Удаление проекта

**Admin (Администратор):**
- Создание и редактирование баз
- Управление данными
- Не может удалить проект

**Editor (Редактор):**
- Просмотр и редактирование данных
- Не может изменять схему

**Viewer (Наблюдатель):**
- Только просмотр
- Экспорт данных

### Комментарии

**Добавление комментария:**
1. Откройте панель "Активность" (💬)
2. Выберите вкладку "Комментарии"
3. Выберите запись
4. Напишите комментарий
5. Отправьте

**Ответы:**
- Нажмите "Ответить" на комментарии
- Введите текст
- Отправьте

**Уведомления:**
- @упоминания пользователей
- Уведомления по email (настраивается)

### История активности

**Просмотр:**
1. Панель "Активность" → вкладка "Активность"
2. Фильтры:
   - По пользователю
   - По типу действия
   - По дате

**Отслеживаемые события:**
- Создание/удаление записей
- Изменение данных
- Импорт/экспорт
- Изменение схемы
- Добавление участников

---

## Настройки и безопасность

### Профиль пользователя

**Редактирование:**
1. Перейдите в Profile
2. Измените:
   - Имя
   - Avatar (загрузка изображения)
   - Email (требует подтверждения)
3. Сохраните

### Изменение пароля

1. Profile → "Изменить пароль"
2. Введите текущий пароль
3. Введите новый пароль (min 8 символов)
4. Подтвердите новый пароль
5. Сохраните

### Управление кредитами

**Просмотр баланса:**
- Settings → Credits
- Показывает:
  - Бесплатные кредиты
  - Купленные кредиты
  - Использованные кредиты

**Пополнение:**
1. Settings → Credits → "Пополнить"
2. Выберите пакет
3. Оплатите через Stripe
4. Кредиты зачислятся автоматически

### Уведомления

**Настройка:**
1. Settings → Notifications
2. Включите/выключите:
   - Email уведомления
   - Комментарии
   - Упоминания
   - Изменения в проектах
3. Выберите частоту:
   - Мгновенно
   - Ежедневная сводка
   - Еженедельная сводка

### Интеграции

#### Telegram Bot

**Подключение:**
1. Settings → Integrations → Telegram
2. Нажмите "Подключить"
3. Отсканируйте QR код
4. Авторизуйтесь в боте

**Команды:**
- `/start` - начало работы
- `/databases` - список баз
- `/stats` - статистика
- `/export` - экспорт данных

#### Storage Providers

**Google Drive:**
1. Settings → Storage → Google Drive
2. Авторизуйтесь через OAuth
3. Выберите папку для синхронизации
4. Настройте автосинхронизацию

---

## Горячие клавиши

**Навигация:**
- `Ctrl+K` - AI Помощник (в разработке)
- `Ctrl+/` - Поиск
- `Esc` - Закрыть модальные окна

**Работа с данными:**
- `Ctrl+N` - Новая запись
- `Ctrl+S` - Сохранить
- `Delete` - Удалить запись (с подтверждением)

**Фильтры:**
- `Ctrl+F` - Открыть фильтры
- `Ctrl+Shift+F` - Очистить фильтры

---

## Частые вопросы (FAQ)

**Q: Как восстановить удаленные данные?**
A: В данный момент удаленные данные не восстанавливаются. Используйте экспорт для резервных копий.

**Q: Какой максимальный размер файла для импорта?**
A: 20 MB на файл, максимум 10 файлов за раз.

**Q: Можно ли использовать VHData оффлайн?**
A: Нет, требуется подключение к интернету.

**Q: Как увеличить лимиты API?**
A: Свяжитесь с support через Settings → Help.

**Q: Поддерживается ли экспорт в Google Sheets?**
A: В разработке. Используйте Excel → импорт в Google Sheets.

---

## Техподдержка

**Email:** support@vhdata.com  
**Документация:** [docs.vhdata.com](https://docs.vhdata.com)  
**GitHub Issues:** [github.com/vhdata/platform/issues](https://github.com/vhdata/platform/issues)

---

**Версия:** 2.0.0  
**Последнее обновление:** 2025-01-18
