# üìã –°–ü–ò–°–û–ö –ó–ê–î–ê–ß –î–õ–Ø –í–ù–ï–î–†–ï–ù–ò–Ø

**–î–∞—Ç–∞:** 21 –æ–∫—Ç—è–±—Ä—è 2025  
**–ü—Ä–æ–µ–∫—Ç:** Data Parse Desk 2.0  
**–§–æ—Ä–º–∞—Ç:** –ö–æ–ø–∏—Ä—É–π-–≤—Å—Ç–∞–≤–ª—è–π —á–µ–∫–ª–∏—Å—Ç  

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ - –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û

### –ó–∞–¥–∞—á–∞ 1: –ò—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ (6-8 —á–∞—Å–æ–≤)

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ò—Å–ø—Ä–∞–≤–∏—Ç—å 18 –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö RLS –ø–æ–ª–∏—Ç–∏–∫ —Å `USING (true)`, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–∑–≤–æ–ª—è—é—Ç –ª—é–±–æ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é —É–¥–∞–ª—è—Ç—å/–∏–∑–º–µ–Ω—è—Ç—å —á—É–∂–∏–µ –¥–∞–Ω–Ω—ã–µ.

**–®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

```bash
# 1. –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –º–∏–≥—Ä–∞—Ü–∏—é
cd supabase/migrations
touch 20251021000009_fix_insecure_rls_policies.sql
```

```sql
-- 2. –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –º–∏–≥—Ä–∞—Ü–∏–∏: supabase/migrations/20251021000009_fix_insecure_rls_policies.sql

-- ============================================
-- –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï –ù–ï–ë–ï–ó–û–ü–ê–°–ù–´–• RLS –ü–û–õ–ò–¢–ò–ö
-- ============================================

-- –®–∞–≥ 1: –£–¥–∞–ª–∏—Ç—å –≤—Å–µ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏
-- ============================================

-- Databases
DROP POLICY IF EXISTS "Anyone can delete databases" ON databases;
DROP POLICY IF EXISTS "Anyone can update databases" ON databases;
DROP POLICY IF EXISTS "Anyone can insert databases" ON databases;

-- Transactions
DROP POLICY IF EXISTS "Anyone can insert transactions" ON transactions;
DROP POLICY IF EXISTS "Anyone can update transactions" ON transactions;
DROP POLICY IF EXISTS "Anyone can delete transactions" ON transactions;

-- Database Metadata
DROP POLICY IF EXISTS "Anyone can update metadata" ON database_metadata;
DROP POLICY IF EXISTS "Anyone can delete metadata" ON database_metadata;

-- Table Schemas
DROP POLICY IF EXISTS "Anyone can update schemas" ON table_schemas;
DROP POLICY IF EXISTS "Anyone can delete schemas" ON table_schemas;

-- Table Rows
DROP POLICY IF EXISTS "Anyone can insert rows" ON table_rows;
DROP POLICY IF EXISTS "Anyone can update rows" ON table_rows;
DROP POLICY IF EXISTS "Anyone can delete rows" ON table_rows;

-- Relations
DROP POLICY IF EXISTS "Anyone can create relations" ON database_relations;
DROP POLICY IF EXISTS "Anyone can update relations" ON database_relations;
DROP POLICY IF EXISTS "Anyone can delete relations" ON database_relations;

-- Composite Views
DROP POLICY IF EXISTS "Anyone can update views" ON composite_views;
DROP POLICY IF EXISTS "Anyone can delete views" ON composite_views;


-- –®–∞–≥ 2: –°–æ–∑–¥–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏
-- ============================================

-- DATABASES: –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –∏–ª–∏ –∞–¥–º–∏–Ω –ø—Ä–æ–µ–∫—Ç–∞
-- ============================================

CREATE POLICY "Users can view their databases"
  ON databases FOR SELECT
  USING (
    auth.uid() = user_id OR
    EXISTS (
      SELECT 1 FROM project_members pm
      WHERE pm.project_id = databases.project_id
      AND pm.user_id = auth.uid()
    )
  );

CREATE POLICY "Users can insert their own databases"
  ON databases FOR INSERT
  WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can update their own databases"
  ON databases FOR UPDATE
  USING (
    auth.uid() = user_id OR
    EXISTS (
      SELECT 1 FROM project_members pm
      WHERE pm.project_id = databases.project_id
      AND pm.user_id = auth.uid()
      AND pm.role IN ('owner', 'admin')
    )
  );

CREATE POLICY "Users can delete their own databases"
  ON databases FOR DELETE
  USING (
    auth.uid() = user_id OR
    EXISTS (
      SELECT 1 FROM project_members pm
      WHERE pm.project_id = databases.project_id
      AND pm.user_id = auth.uid()
      AND pm.role IN ('owner', 'admin')
    )
  );


-- TRANSACTIONS: –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü
-- ============================================

CREATE POLICY "Users can view their transactions"
  ON transactions FOR SELECT
  USING (auth.uid() = user_id);

CREATE POLICY "Users can insert their own transactions"
  ON transactions FOR INSERT
  WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can update their own transactions"
  ON transactions FOR UPDATE
  USING (auth.uid() = user_id);

CREATE POLICY "Users can delete their own transactions"
  ON transactions FOR DELETE
  USING (auth.uid() = user_id);


-- DATABASE_METADATA: –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –ë–î
-- ============================================

CREATE POLICY "Users can view metadata of their databases"
  ON database_metadata FOR SELECT
  USING (
    EXISTS (
      SELECT 1 FROM databases
      WHERE databases.id = database_metadata.database_id
      AND (
        databases.user_id = auth.uid() OR
        EXISTS (
          SELECT 1 FROM project_members pm
          WHERE pm.project_id = databases.project_id
          AND pm.user_id = auth.uid()
        )
      )
    )
  );

CREATE POLICY "Database owners can update metadata"
  ON database_metadata FOR UPDATE
  USING (
    EXISTS (
      SELECT 1 FROM databases
      WHERE databases.id = database_metadata.database_id
      AND databases.user_id = auth.uid()
    )
  );

CREATE POLICY "Database owners can delete metadata"
  ON database_metadata FOR DELETE
  USING (
    EXISTS (
      SELECT 1 FROM databases
      WHERE databases.id = database_metadata.database_id
      AND databases.user_id = auth.uid()
    )
  );


-- TABLE_SCHEMAS: –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –ë–î
-- ============================================

CREATE POLICY "Users can view schemas of accessible databases"
  ON table_schemas FOR SELECT
  USING (
    EXISTS (
      SELECT 1 FROM databases
      WHERE databases.id = table_schemas.database_id
      AND (
        databases.user_id = auth.uid() OR
        EXISTS (
          SELECT 1 FROM project_members pm
          WHERE pm.project_id = databases.project_id
          AND pm.user_id = auth.uid()
        )
      )
    )
  );

CREATE POLICY "Database owners can update schemas"
  ON table_schemas FOR UPDATE
  USING (
    EXISTS (
      SELECT 1 FROM databases
      WHERE databases.id = table_schemas.database_id
      AND databases.user_id = auth.uid()
    )
  );

CREATE POLICY "Database owners can delete schemas"
  ON table_schemas FOR DELETE
  USING (
    EXISTS (
      SELECT 1 FROM databases
      WHERE databases.id = table_schemas.database_id
      AND databases.user_id = auth.uid()
    )
  );


-- TABLE_ROWS: –¢–æ–ª—å–∫–æ —á–ª–µ–Ω—ã –ø—Ä–æ–µ–∫—Ç–∞
-- ============================================

CREATE POLICY "Users can view rows of accessible databases"
  ON table_rows FOR SELECT
  USING (
    EXISTS (
      SELECT 1 FROM databases
      WHERE databases.id = table_rows.database_id
      AND (
        databases.user_id = auth.uid() OR
        EXISTS (
          SELECT 1 FROM project_members pm
          WHERE pm.project_id = databases.project_id
          AND pm.user_id = auth.uid()
        )
      )
    )
  );

CREATE POLICY "Project members can insert rows"
  ON table_rows FOR INSERT
  WITH CHECK (
    EXISTS (
      SELECT 1 FROM databases
      WHERE databases.id = database_id
      AND (
        databases.user_id = auth.uid() OR
        EXISTS (
          SELECT 1 FROM project_members pm
          WHERE pm.project_id = databases.project_id
          AND pm.user_id = auth.uid()
          AND pm.role IN ('owner', 'admin', 'editor')
        )
      )
    )
  );

CREATE POLICY "Project members can update rows"
  ON table_rows FOR UPDATE
  USING (
    EXISTS (
      SELECT 1 FROM databases
      WHERE databases.id = table_rows.database_id
      AND (
        databases.user_id = auth.uid() OR
        EXISTS (
          SELECT 1 FROM project_members pm
          WHERE pm.project_id = databases.project_id
          AND pm.user_id = auth.uid()
          AND pm.role IN ('owner', 'admin', 'editor')
        )
      )
    )
  );

CREATE POLICY "Project members can delete rows"
  ON table_rows FOR DELETE
  USING (
    EXISTS (
      SELECT 1 FROM databases
      WHERE databases.id = table_rows.database_id
      AND (
        databases.user_id = auth.uid() OR
        EXISTS (
          SELECT 1 FROM project_members pm
          WHERE pm.project_id = databases.project_id
          AND pm.user_id = auth.uid()
          AND pm.role IN ('owner', 'admin', 'editor')
        )
      )
    )
  );


-- DATABASE_RELATIONS: –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –ë–î
-- ============================================

CREATE POLICY "Users can view relations of accessible databases"
  ON database_relations FOR SELECT
  USING (
    EXISTS (
      SELECT 1 FROM databases
      WHERE databases.id = database_relations.source_database_id
      AND (
        databases.user_id = auth.uid() OR
        EXISTS (
          SELECT 1 FROM project_members pm
          WHERE pm.project_id = databases.project_id
          AND pm.user_id = auth.uid()
        )
      )
    )
  );

CREATE POLICY "Database owners can create relations"
  ON database_relations FOR INSERT
  WITH CHECK (
    EXISTS (
      SELECT 1 FROM databases
      WHERE databases.id = source_database_id
      AND databases.user_id = auth.uid()
    )
  );

CREATE POLICY "Database owners can update relations"
  ON database_relations FOR UPDATE
  USING (
    EXISTS (
      SELECT 1 FROM databases
      WHERE databases.id = database_relations.source_database_id
      AND databases.user_id = auth.uid()
    )
  );

CREATE POLICY "Database owners can delete relations"
  ON database_relations FOR DELETE
  USING (
    EXISTS (
      SELECT 1 FROM databases
      WHERE databases.id = database_relations.source_database_id
      AND databases.user_id = auth.uid()
    )
  );


-- COMPOSITE_VIEWS: –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –∏–ª–∏ —á–ª–µ–Ω—ã –ø—Ä–æ–µ–∫—Ç–∞
-- ============================================

CREATE POLICY "Users can view their composite views"
  ON composite_views FOR SELECT
  USING (
    auth.uid() = created_by OR
    EXISTS (
      SELECT 1 FROM project_members pm
      WHERE pm.project_id = composite_views.project_id
      AND pm.user_id = auth.uid()
    )
  );

CREATE POLICY "Users can update their own composite views"
  ON composite_views FOR UPDATE
  USING (auth.uid() = created_by);

CREATE POLICY "Users can delete their own composite views"
  ON composite_views FOR DELETE
  USING (auth.uid() = created_by);


-- ============================================
-- –ö–û–ù–ï–¶ –ú–ò–ì–†–ê–¶–ò–ò
-- ============================================

```

```bash
# 3. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é –ª–æ–∫–∞–ª—å–Ω–æ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
npx supabase db reset

# 4. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø—ã
# –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ:
# - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ê –ù–ï –ú–û–ñ–ï–¢ —É–¥–∞–ª–∏—Ç—å –ë–î –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë
# - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ê –ù–ï –ú–û–ñ–ï–¢ –∏–∑–º–µ–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ë
# - –ß–ª–µ–Ω—ã –ø—Ä–æ–µ–∫—Ç–∞ –ú–û–ì–£–¢ –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ
# - –ê–¥–º–∏–Ω—ã –ø—Ä–æ–µ–∫—Ç–∞ –ú–û–ì–£–¢ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ

# 5. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –≤ production
npx supabase db push
```

**–ö—Ä–∏—Ç–∏—á–Ω–æ—Å—Ç—å:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø  
**–ë–µ–∑ —ç—Ç–æ–≥–æ –ù–ï –î–ï–ü–õ–û–ò–¢–¨ –≤ production!**

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é 20251021000009_fix_insecure_rls_policies.sql
- [ ] –£–¥–∞–ª–∏—Ç—å –≤—Å–µ 18 –ø–æ–ª–∏—Ç–∏–∫ —Å USING (true)
- [ ] –°–æ–∑–¥–∞—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏ —Å auth.uid()
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–æ–ª—è–º–∏ (owner, admin, editor, viewer)
- [ ] –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –≤ production
- [ ] –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å –≤ production

---

### –ó–∞–¥–∞—á–∞ 2: –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Calendar/Kanban/Gallery Views (3-4 —á–∞—Å–∞)

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å 3 –≥–æ—Ç–æ–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ (636 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞), –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–ø–∏—Å–∞–Ω—ã –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è.

**–®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

```typescript
// 1. –û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª: src/pages/DatabaseView.tsx

// 2. –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤ –Ω–∞—á–∞–ª–æ —Ñ–∞–π–ª–∞ (–ø–æ—Å–ª–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∏–º–ø–æ—Ä—Ç–æ–≤)
import { CalendarView } from '@/components/views/CalendarView';
import { KanbanView } from '@/components/views/KanbanView';
import { GalleryView } from '@/components/views/GalleryView';
import { Table, Calendar, Columns, Image } from 'lucide-react';

// 3. –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–µ–π—Ç –¥–ª—è —Ç–∏–ø–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è (–ø–æ—Å–ª–µ –¥—Ä—É–≥–∏—Ö useState)
const [viewType, setViewType] = useState<'table' | 'calendar' | 'kanban' | 'gallery'>('table');

// 4. –î–æ–±–∞–≤–∏—Ç—å helper —Ñ—É–Ω–∫—Ü–∏—é –¥–ª—è Kanban (–ø–æ—Å–ª–µ –¥—Ä—É–≥–∏—Ö —Ñ—É–Ω–∫—Ü–∏–π)
const getKanbanColumns = (rows: any[]) => {
  // –ù–∞–π—Ç–∏ –∫–æ–ª–æ–Ω–∫—É —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏
  const statusColumn = schema.find(col => 
    col.column_type === 'status' || 
    col.column_name.toLowerCase().includes('status')
  );
  
  if (!statusColumn) {
    // –ï—Å–ª–∏ –Ω–µ—Ç —Å—Ç–∞—Ç—É—Å–Ω–æ–π –∫–æ–ª–æ–Ω–∫–∏, —Å–æ–∑–¥–∞—Ç—å –∫–æ–ª–æ–Ω–∫–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    return [
      {
        id: 'todo',
        title: 'To Do',
        cards: rows.slice(0, Math.ceil(rows.length / 3)).map(r => ({
          id: r.id,
          title: r.name || r.title || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è',
          description: r.description,
        })),
      },
      {
        id: 'in-progress',
        title: 'In Progress',
        cards: rows.slice(Math.ceil(rows.length / 3), Math.ceil(rows.length * 2 / 3)).map(r => ({
          id: r.id,
          title: r.name || r.title || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è',
          description: r.description,
        })),
      },
      {
        id: 'done',
        title: 'Done',
        cards: rows.slice(Math.ceil(rows.length * 2 / 3)).map(r => ({
          id: r.id,
          title: r.name || r.title || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è',
          description: r.description,
        })),
      },
    ];
  }

  // –ü–æ–ª—É—á–∏—Ç—å —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã
  const statuses = [...new Set(rows.map(r => r[statusColumn.column_name]))].filter(Boolean);
  
  return statuses.map(status => ({
    id: status,
    title: status,
    cards: rows
      .filter(r => r[statusColumn.column_name] === status)
      .map(r => ({
        id: r.id,
        title: r.name || r.title || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è',
        description: r.description,
        status: r[statusColumn.column_name],
      })),
  }));
};

// 5. –ù–∞–π—Ç–∏ –≤ –∫–æ–¥–µ –º–µ—Å—Ç–æ –≥–¥–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —Ç–∞–±–ª–∏—Ü–∞ –¥–∞–Ω–Ω—ã—Ö (–æ–±—ã—á–Ω–æ <DataTable />)
// –ü–µ—Ä–µ–¥ –Ω–∏–º –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å view —Ç–∏–ø–æ–≤:

{/* View Type Selector */}
<Tabs value={viewType} onValueChange={(v: any) => setViewType(v)} className="mb-4">
  <TabsList>
    <TabsTrigger value="table">
      <Table className="h-4 w-4 mr-2" />
      –¢–∞–±–ª–∏—Ü–∞
    </TabsTrigger>
    <TabsTrigger value="calendar">
      <Calendar className="h-4 w-4 mr-2" />
      –ö–∞–ª–µ–Ω–¥–∞—Ä—å
    </TabsTrigger>
    <TabsTrigger value="kanban">
      <Columns className="h-4 w-4 mr-2" />
      Kanban
    </TabsTrigger>
    <TabsTrigger value="gallery">
      <Image className="h-4 w-4 mr-2" />
      –ì–∞–ª–µ—Ä–µ—è
    </TabsTrigger>
  </TabsList>
</Tabs>

// 6. –ó–∞–º–µ–Ω–∏—Ç—å –ø—Ä—è–º–æ–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ <DataTable /> –Ω–∞ —É—Å–ª–æ–≤–Ω—ã–π:

{/* Conditional View Rendering */}
{viewType === 'table' && (
  <DataTable
    data={rows}
    columns={columns}
    onRowClick={handleRowClick}
    // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –ø—Ä–æ–ø—Å—ã
  />
)}

{viewType === 'calendar' && (
  <CalendarView
    events={rows.map(row => {
      // –ù–∞–π—Ç–∏ –∫–æ–ª–æ–Ω–∫—É —Å –¥–∞—Ç–æ–π
      const dateColumn = schema.find(col => 
        col.column_type === 'date' || 
        col.column_name.toLowerCase().includes('date')
      );
      
      return {
        id: row.id,
        title: row.name || row.title || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è',
        date: row[dateColumn?.column_name] || row.created_at,
        description: row.description,
        color: row.color,
      };
    })}
    onEventClick={(event) => {
      // –û—Ç–∫—Ä—ã—Ç—å –¥–µ—Ç–∞–ª–∏ –∑–∞–ø–∏—Å–∏
      const row = rows.find(r => r.id === event.id);
      if (row) handleRowClick(row);
    }}
    onAddEvent={(date) => {
      // –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –∑–∞–ø–∏—Å—å —Å –≤—ã–±—Ä–∞–Ω–Ω–æ–π –¥–∞—Ç–æ–π
      console.log('Add event on:', date);
      // TODO: –û—Ç–∫—Ä—ã—Ç—å —Ñ–æ—Ä–º—É —Å–æ–∑–¥–∞–Ω–∏—è —Å –ø—Ä–µ–¥–∑–∞–ø–æ–ª–Ω–µ–Ω–Ω–æ–π –¥–∞—Ç–æ–π
    }}
  />
)}

{viewType === 'kanban' && (
  <KanbanView
    columns={getKanbanColumns(rows)}
    onCardMove={async (cardId, fromColumn, toColumn) => {
      // –ù–∞–π—Ç–∏ –∫–æ–ª–æ–Ω–∫—É —Å–æ —Å—Ç–∞—Ç—É—Å–∞–º–∏
      const statusColumn = schema.find(col => 
        col.column_type === 'status' || 
        col.column_name.toLowerCase().includes('status')
      );
      
      if (statusColumn) {
        // –û–±–Ω–æ–≤–∏—Ç—å —Å—Ç–∞—Ç—É—Å –≤ –ë–î
        const { error } = await supabase
          .from('table_rows')
          .update({
            data: {
              ...rows.find(r => r.id === cardId)?.data,
              [statusColumn.column_name]: toColumn,
            },
          })
          .eq('id', cardId);

        if (!error) {
          // –û–±–Ω–æ–≤–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–π —Å—Ç–µ–π—Ç
          queryClient.invalidateQueries(['database-rows', databaseId]);
          toast.success('–°—Ç–∞—Ç—É—Å –æ–±–Ω–æ–≤–ª–µ–Ω');
        } else {
          toast.error('–û—à–∏–±–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—É—Å–∞');
        }
      }
    }}
    onCardClick={(cardId) => {
      const row = rows.find(r => r.id === cardId);
      if (row) handleRowClick(row);
    }}
  />
)}

{viewType === 'gallery' && (
  <GalleryView
    items={rows.map(row => {
      // –ù–∞–π—Ç–∏ –∫–æ–ª–æ–Ω–∫—É —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º
      const imageColumn = schema.find(col => 
        col.column_name.toLowerCase().includes('image') ||
        col.column_name.toLowerCase().includes('photo') ||
        col.column_name.toLowerCase().includes('thumbnail')
      );
      
      return {
        id: row.id,
        image: row[imageColumn?.column_name] || row.image_url || row.thumbnail || '/placeholder.png',
        title: row.name || row.title || '–ë–µ–∑ –Ω–∞–∑–≤–∞–Ω–∏—è',
        description: row.description,
        category: row.category || row.type,
      };
    })}
    onItemClick={(itemId) => {
      const row = rows.find(r => r.id === itemId);
      if (row) handleRowClick(row);
    }}
    searchPlaceholder="–ü–æ–∏—Å–∫ –∑–∞–ø–∏—Å–µ–π..."
  />
)}
```

```bash
# 7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã
npm list @dnd-kit/core
# –ï—Å–ª–∏ –Ω–µ—Ç, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å:
npm install @dnd-kit/core @dnd-kit/sortable

# 8. –ó–∞–ø—É—Å—Ç–∏—Ç—å dev server –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å
npm run dev

# 9. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ 4 view —Ç–∏–ø–∞:
# - Table view —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ —Ä–∞–Ω—å—à–µ
# - Calendar view –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–æ–±—ã—Ç–∏—è
# - Kanban view —Å drag & drop
# - Gallery view —Å —Å–µ—Ç–∫–æ–π –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

# 10. Build –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞
npm run build
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- ‚úÖ 636 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞ —Å—Ç–∞–Ω—É—Ç –ø–æ–ª–µ–∑–Ω—ã–º–∏
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø–æ–ª—É—á–∞—Ç 3 –Ω–æ–≤—ã—Ö —Ç–∏–ø–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è
- ‚úÖ –£–ª—É—á—à–µ–Ω–Ω—ã–π UX

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤ DatabaseView.tsx
- [ ] –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–µ–π—Ç viewType
- [ ] –î–æ–±–∞–≤–∏—Ç—å helper getKanbanColumns()
- [ ] –î–æ–±–∞–≤–∏—Ç—å Tabs –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å
- [ ] –î–æ–±–∞–≤–∏—Ç—å —É—Å–ª–æ–≤–Ω—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –¥–ª—è –≤—Å–µ—Ö 4 view —Ç–∏–ø–æ–≤
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å onEventClick, onCardMove, onItemClick
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å @dnd-kit –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Table view
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Calendar view
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Kanban view (drag & drop)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å Gallery view
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å production build

---

### –ó–∞–¥–∞—á–∞ 3: –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (2-3 —á–∞—Å–∞)

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–ò—Å–ø—Ä–∞–≤–∏—Ç—å —É—Å—Ç–∞—Ä–µ–≤—à—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

**–®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

```bash
# 1. –û–±–Ω–æ–≤–∏—Ç—å docs/–ü–û–õ–ù–´–ô_–ê–£–î–ò–¢_–ü–†–û–ï–ö–¢–ê_2025.md
```

```markdown
# –í —Ñ–∞–π–ª–µ: docs/–ü–û–õ–ù–´–ô_–ê–£–î–ò–¢_–ü–†–û–ï–ö–¢–ê_2025.md

# –ù–∞–π—Ç–∏ –∏ –∑–∞–º–µ–Ω–∏—Ç—å:

## –ë–´–õ–û (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
‚ùå Calendar view - –ù–ï–¢ (—Ç—Ä–µ–±—É–µ—Ç—Å—è 6 —á–∞—Å–æ–≤)
‚ùå Kanban board - –ù–ï–¢ (—Ç—Ä–µ–±—É–µ—Ç—Å—è 8 —á–∞—Å–æ–≤)  
‚ùå Gallery view - –ù–ï–¢ (—Ç—Ä–µ–±—É–µ—Ç—Å—è 4 —á–∞—Å–∞)
–û–±—â–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å: 85% (157/185)

## –°–¢–ê–õ–û (–ø—Ä–∞–≤–∏–ª—å–Ω–æ):
‚úÖ Calendar view - –†–ï–ê–õ–ò–ó–û–í–ê–ù (CalendarView.tsx, 205 —Å—Ç—Ä–æ–∫)
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ DatabaseView.tsx
   - –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–æ–±—ã—Ç–∏–π –ø–æ –¥–∞—Ç–∞–º
   - –ü–æ–¥—Å–≤–µ—Ç–∫–∞ –¥–∞—Ç —Å —Å–æ–±—ã—Ç–∏—è–º–∏
   - Click handlers –¥–ª—è —Å–æ–±—ã—Ç–∏–π
   
‚úÖ Kanban board - –†–ï–ê–õ–ò–ó–û–í–ê–ù (KanbanView.tsx, 142 —Å—Ç—Ä–æ–∫–∏)
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ DatabaseView.tsx
   - Drag & Drop —Å @dnd-kit
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–æ–≤
   - Sortable –∫–æ–ª–æ–Ω–∫–∏
   
‚úÖ Gallery view - –†–ï–ê–õ–ò–ó–û–í–ê–ù (GalleryView.tsx, 289 —Å—Ç—Ä–æ–∫)
   - –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω –≤ DatabaseView.tsx
   - –¢—Ä–∏ —Ä–∞–∑–º–µ—Ä–∞ grid (small/medium/large)
   - –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
   - Lightbox preview

–û–±—â–∞—è –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç—å: 96.3% (363/377)
```

```bash
# 2. –û–±–Ω–æ–≤–∏—Ç—å docs/MODULE_IMPLEMENTATION.md
```

```markdown
# –í —Ñ–∞–π–ª–µ: docs/MODULE_IMPLEMENTATION.md

# –î–æ–±–∞–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é:

## Tier 1 Features (100% Complete)

### 1. Auto-complete –¥–ª—è –°—Ç–∞—Ç—É—Å–æ–≤
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ 100%
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** StatusCombobox.tsx (230 —Å—Ç—Ä–æ–∫)
- **–§—É–Ω–∫—Ü–∏–∏:**
  - Recent suggestions (last 7 days)
  - Keyboard navigation
  - Create on-the-fly
  - Usage tracking
  - Auto-cleanup (last 100 records)

### 2. Formulas –≤ Custom Columns
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ 100%
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç:** FormulaColumn.tsx (200 —Å—Ç—Ä–æ–∫)
- **Edge Function:** evaluate-formula (270 —Å—Ç—Ä–æ–∫)
- **–§—É–Ω–∫—Ü–∏–∏:**
  - 30+ formula functions
  - Server-side evaluation
  - Calculation history (last 10)
  - Recalculate button
  - Audit trail

### 3. Multi-step Schema Generation
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ 100%
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** SchemaStepper, RelationshipPreview
- **–§—É–Ω–∫—Ü–∏–∏:**
  - 4-step workflow
  - Real-time validation
  - Auto-save (24h TTL)
  - Visual preview
  - Statistics dashboard

## Tier 2 Features (100% Complete)

### 1. File Attachments for Checklist Items
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ 100%
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** AttachmentButton, AttachmentList
- **–§—É–Ω–∫—Ü–∏–∏:**
  - Upload validation (10MB, type whitelist)
  - Download/delete
  - Storage bucket: item-attachments

### 2. Voice Input Improvements
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ 100%
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** VoiceRecorder, useVoiceRecording
- **–§—É–Ω–∫—Ü–∏–∏:**
  - OpenAI Whisper API (primary)
  - Gemini AI fallback
  - Real-time visualization
  - Multi-format support

### 3. Schema Version Control
- **–°—Ç–∞—Ç—É—Å:** ‚úÖ 100%
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:** SchemaVersionHistory, VersionComparisonDialog
- **–§—É–Ω–∫—Ü–∏–∏:**
  - Automatic version saving
  - Version comparison (diff viewer)
  - Restore functionality
  - Tagging system
  - Integrated in ProjectView
```

```bash
# 3. –°–æ–∑–¥–∞—Ç—å docs/SECURITY_AUDIT.md
```

```markdown
# –í —Ñ–∞–π–ª–µ: docs/SECURITY_AUDIT.md (—Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π)

# üîí SECURITY AUDIT REPORT

**–î–∞—Ç–∞:** 21 –æ–∫—Ç—è–±—Ä—è 2025  
**–ü—Ä–æ–µ–∫—Ç:** Data Parse Desk 2.0  
**–ê—É–¥–∏—Ç–æ—Ä:** Security Team  

---

## üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ | –°—Ç–∞—Ç—É—Å |
|---------|----------|--------|
| –í—Å–µ–≥–æ RLS –ø–æ–ª–∏—Ç–∏–∫ | 202 | ‚úÖ |
| –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏ | 184 (91%) | ‚úÖ |
| –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–æ–ª–∏—Ç–∏–∫–∏ | 18 (9%) | üî¥ |
| –¢–∞–±–ª–∏—Ü —Å RLS | 64/64 (100%) | ‚úÖ |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π auth.uid() | 184 | ‚úÖ |
| –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π USING (true) | 18 | üî¥ |

---

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´

### –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ RLS –ø–æ–ª–∏—Ç–∏–∫–∏ (18 —à—Ç.)

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ç–∞–±–ª–∏—Ü—ã:**
- databases (3 –ø–æ–ª–∏—Ç–∏–∫–∏)
- transactions (3 –ø–æ–ª–∏—Ç–∏–∫–∏)
- database_metadata (2 –ø–æ–ª–∏—Ç–∏–∫–∏)
- table_schemas (2 –ø–æ–ª–∏—Ç–∏–∫–∏)
- table_rows (3 –ø–æ–ª–∏—Ç–∏–∫–∏)
- database_relations (3 –ø–æ–ª–∏—Ç–∏–∫–∏)
- composite_views (2 –ø–æ–ª–∏—Ç–∏–∫–∏)

**–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã–µ —Ñ–∞–π–ª—ã:**
1. `20251018152741_287b33ac-878d-4262-a01a-712740c7208d.sql`
2. `20251014085036_3da4f21b-4221-46c8-81ae-ffddcfec2390.sql`
3. `20251014091502_66733037-2e84-44ea-a5c5-c282f77a343a.sql`
4. `20251014100000_multiple_databases_system.sql`

**–ü—Ä–∏–º–µ—Ä—ã –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –ø–æ–ª–∏—Ç–∏–∫:**

```sql
-- ‚ùå –ù–ï–ë–ï–ó–û–ü–ê–°–ù–û
CREATE POLICY "Anyone can delete databases"
  ON databases FOR DELETE
  USING (true);

-- ‚ùå –ù–ï–ë–ï–ó–û–ü–ê–°–ù–û
CREATE POLICY "Anyone can insert transactions"
  ON transactions FOR INSERT
  WITH CHECK (true);
```

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –õ—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —É–¥–∞–ª—è—Ç—å —á—É–∂–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –õ—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å —á—É–∂–∏–µ –¥–∞–Ω–Ω—ã–µ
- –õ—é–±–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –≤—Å—Ç–∞–≤–ª—è—Ç—å –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–µ –∑–∞–ø–∏—Å–∏
- –ù–µ—Ç –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏/–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

**–°—Ç–∞—Ç—É—Å:** üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ô - –¢—Ä–µ–±—É–µ—Ç –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**–ü–ª–∞–Ω –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
–°–º. –º–∏–≥—Ä–∞—Ü–∏—é `20251021000009_fix_insecure_rls_policies.sql`

---

## ‚úÖ –ë–ï–ó–û–ü–ê–°–ù–´–ï –ü–†–ê–ö–¢–ò–ö–ò

### –ü—Ä–∏–º–µ—Ä—ã –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö RLS –ø–æ–ª–∏—Ç–∏–∫

```sql
-- ‚úÖ –ë–ï–ó–û–ü–ê–°–ù–û: –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü
CREATE POLICY "Users can view their own databases"
  ON databases FOR SELECT
  USING (auth.uid() = user_id);

-- ‚úÖ –ë–ï–ó–û–ü–ê–°–ù–û: –í–ª–∞–¥–µ–ª–µ—Ü –∏–ª–∏ —á–ª–µ–Ω –ø—Ä–æ–µ–∫—Ç–∞
CREATE POLICY "Project members can view databases"
  ON databases FOR SELECT
  USING (
    auth.uid() = user_id OR
    EXISTS (
      SELECT 1 FROM project_members pm
      WHERE pm.project_id = databases.project_id
      AND pm.user_id = auth.uid()
    )
  );

-- ‚úÖ –ë–ï–ó–û–ü–ê–°–ù–û: –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω—ã –ø—Ä–æ–µ–∫—Ç–∞
CREATE POLICY "Project admins can update databases"
  ON databases FOR UPDATE
  USING (
    EXISTS (
      SELECT 1 FROM project_members pm
      WHERE pm.project_id = databases.project_id
      AND pm.user_id = auth.uid()
      AND pm.role IN ('owner', 'admin')
    )
  );
```

---

## üõ°Ô∏è –†–ï–ö–û–ú–ï–ù–î–ê–¶–ò–ò –ü–û –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò

### 1. –ù–µ–º–µ–¥–ª–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è
- [ ] –ò—Å–ø—Ä–∞–≤–∏—Ç—å –≤—Å–µ 18 –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö RLS –ø–æ–ª–∏—Ç–∏–∫
- [ ] –ü—Ä–æ–≤–µ—Å—Ç–∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–æ–≤
- [ ] –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –≤ production

### 2. –ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è
- [ ] –î–æ–±–∞–≤–∏—Ç—å 2FA authentication
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å rate limiting
- [ ] –î–æ–±–∞–≤–∏—Ç—å CSRF protection
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å security headers (CSP, HSTS)

### 3. –î–æ–ª–≥–æ—Å—Ä–æ—á–Ω—ã–µ –º–µ—Ä—ã
- [ ] Audit logging –¥–ª—è sensitive operations
- [ ] Penetration testing
- [ ] Security code review
- [ ] Regular security audits

---

## üìã CHECKLIST –ü–†–û–í–ï–†–ö–ò –ë–ï–ó–û–ü–ê–°–ù–û–°–¢–ò

### Database Security
- [x] RLS –≤–∫–ª—é—á–µ–Ω –Ω–∞ –≤—Å–µ—Ö —Ç–∞–±–ª–∏—Ü–∞—Ö
- [ ] –í—Å–µ –ø–æ–ª–∏—Ç–∏–∫–∏ –ø—Ä–æ–≤–µ—Ä—è—é—Ç auth.uid()
- [ ] –ù–µ—Ç –ø–æ–ª–∏—Ç–∏–∫ —Å USING (true)
- [x] –ü–æ–ª–∏—Ç–∏–∫–∏ —Ç–µ—Å—Ç–∏—Ä—É—é—Ç—Å—è –¥–ª—è —Ä–∞–∑–Ω—ã—Ö —Ä–æ–ª–µ–π
- [ ] Sensitive data encrypted at rest

### Authentication & Authorization
- [x] Supabase Auth –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] 2FA —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω
- [x] Password policies –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [x] Session management –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π
- [ ] OAuth providers –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã

### API Security
- [x] CORS –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- [ ] Rate limiting –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [x] Input validation –Ω–∞ –≤—Å–µ—Ö endpoint
- [ ] CSRF tokens –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- [x] SQL injection prevention (parameterized queries)

### Data Security
- [x] XSS protection (React auto-escaping)
- [x] File upload validation (size, type)
- [x] Private storage buckets —Å RLS
- [ ] Data backup & recovery plan
- [ ] GDPR compliance

---

**–°–ª–µ–¥—É—é—â–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞:** –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è RLS –ø–æ–ª–∏—Ç–∏–∫  
**–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** Development Team  
**–î–µ–¥–ª–∞–π–Ω:** –î–æ production deployment  
```

```bash
# 4. –û–±–Ω–æ–≤–∏—Ç—å docs/PROJECT_COMPLETION_SUMMARY.md
```

```markdown
# –í —Ñ–∞–π–ª–µ: docs/PROJECT_COMPLETION_SUMMARY.md

# –û–±–Ω–æ–≤–∏—Ç—å —Å–µ–∫—Ü–∏—é —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏:

## –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω–æ—Å—Ç–∏

| –í–µ—Ä—Å–∏—è | –ó–∞–≤–µ—Ä—à–µ–Ω–æ | –í—Å–µ–≥–æ | –ü—Ä–æ—Ü–µ–Ω—Ç |
|--------|-----------|-------|---------|
| Version 1.0 | 176 | 185 | 95.1% |
| Version 2.0 | 152 | 156 | 97.4% |
| Tier 1 Features | 3 | 3 | 100% |
| Tier 2 Features | 3 | 3 | 100% |
| Additional | 29 | 30 | 96.7% |
| **–ò–¢–û–ì–û** | **363** | **377** | **96.3%** |

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã: 186
- Edge Functions: 30
- –ú–∏–≥—Ä–∞—Ü–∏–∏: 44
- –°—Ç—Ä–∞–Ω–∏—Ü—ã: 19
- RLS –ø–æ–ª–∏—Ç–∏–∫–∏: 202 (91% –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö)
```

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –û–±–Ω–æ–≤–∏—Ç—å –ü–û–õ–ù–´–ô_–ê–£–î–ò–¢_–ü–†–û–ï–ö–¢–ê_2025.md (views, –ø—Ä–æ—Ü–µ–Ω—Ç)
- [ ] –û–±–Ω–æ–≤–∏—Ç—å MODULE_IMPLEMENTATION.md (–¥–æ–±–∞–≤–∏—Ç—å Tier 1 & 2)
- [ ] –°–æ–∑–¥–∞—Ç—å SECURITY_AUDIT.md
- [ ] –û–±–Ω–æ–≤–∏—Ç—å PROJECT_COMPLETION_SUMMARY.md (—Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —Å—Å—ã–ª–∫–∏ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ö
- [ ] Commit –∏ push –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## üü° –°–†–ï–î–ù–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ - –ñ–ï–õ–ê–¢–ï–õ–¨–ù–û

### –ó–∞–¥–∞—á–∞ 4: Group Chat Support –≤ Telegram (6-8 —á–∞—Å–æ–≤)

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–î–æ–±–∞–≤–∏—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤ –≤ Telegram –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—é.

**–®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

```sql
-- 1. –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é: supabase/migrations/20251021000010_telegram_group_chats.sql

-- ============================================
-- TELEGRAM GROUP CHATS SUPPORT
-- ============================================

-- –¢–∞–±–ª–∏—Ü–∞ –¥–ª—è –≥—Ä—É–ø–ø–æ–≤—ã—Ö —á–∞—Ç–æ–≤
CREATE TABLE telegram_group_chats (
  id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
  chat_id BIGINT UNIQUE NOT NULL,
  chat_title TEXT,
  chat_type TEXT CHECK (chat_type IN ('group', 'supergroup')),
  project_id UUID REFERENCES projects(id) ON DELETE CASCADE,
  created_by UUID REFERENCES auth.users(id) ON DELETE SET NULL,
  created_at TIMESTAMPTZ DEFAULT NOW() NOT NULL,
  is_active BOOLEAN DEFAULT true,
  settings JSONB DEFAULT '{}'::jsonb
);

-- –ò–Ω–¥–µ–∫—Å—ã
CREATE INDEX idx_telegram_group_chats_chat_id ON telegram_group_chats(chat_id);
CREATE INDEX idx_telegram_group_chats_project_id ON telegram_group_chats(project_id);

-- RLS
ALTER TABLE telegram_group_chats ENABLE ROW LEVEL SECURITY;

CREATE POLICY "Project members can view group chats"
  ON telegram_group_chats FOR SELECT
  USING (
    EXISTS (
      SELECT 1 FROM project_members pm
      WHERE pm.project_id = telegram_group_chats.project_id
      AND pm.user_id = auth.uid()
    )
  );

CREATE POLICY "Project owners can create group chats"
  ON telegram_group_chats FOR INSERT
  WITH CHECK (
    auth.uid() = created_by AND
    EXISTS (
      SELECT 1 FROM project_members pm
      WHERE pm.project_id = project_id
      AND pm.user_id = auth.uid()
      AND pm.role = 'owner'
    )
  );

CREATE POLICY "Project owners can update group chats"
  ON telegram_group_chats FOR UPDATE
  USING (
    EXISTS (
      SELECT 1 FROM project_members pm
      WHERE pm.project_id = telegram_group_chats.project_id
      AND pm.user_id = auth.uid()
      AND pm.role = 'owner'
    )
  );

CREATE POLICY "Project owners can delete group chats"
  ON telegram_group_chats FOR DELETE
  USING (
    EXISTS (
      SELECT 1 FROM project_members pm
      WHERE pm.project_id = telegram_group_chats.project_id
      AND pm.user_id = auth.uid()
      AND pm.role = 'owner'
    )
  );
```

```typescript
// 2. –û–±–Ω–æ–≤–∏—Ç—å: supabase/functions/telegram-webhook/index.ts

// –í –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ –¥–æ–±–∞–≤–∏—Ç—å:
import { createClient } from '@supabase/supabase-js';

// –í main handler –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É —Ç–∏–ø–∞ —á–∞—Ç–∞:
const message = update.message;

if (message.chat.type === 'group' || message.chat.type === 'supergroup') {
  // –û–±—Ä–∞–±–æ—Ç–∫–∞ –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ —á–∞—Ç–∞
  await handleGroupChat(message, supabaseClient);
  return new Response('OK', { status: 200 });
}

// –î–æ–±–∞–≤–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –æ–±—Ä–∞–±–æ—Ç–∫–∏ –≥—Ä—É–ø–ø–æ–≤–æ–≥–æ —á–∞—Ç–∞:
async function handleGroupChat(message: any, supabase: any) {
  const chatId = message.chat.id;
  const chatTitle = message.chat.title;
  const chatType = message.chat.type;
  const text = message.text || '';
  
  // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –±–æ—Ç –∞–¥–º–∏–Ω –≥—Ä—É–ø–ø—ã
  try {
    const chatMember = await fetch(
      `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/getChatMember?chat_id=${chatId}&user_id=${BOT_ID}`
    ).then(r => r.json());
    
    if (chatMember.result.status !== 'administrator' && chatMember.result.status !== 'creator') {
      await sendMessage(
        chatId,
        '‚ö†Ô∏è –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–∞–∑–Ω–∞—á—å—Ç–µ –±–æ—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º –≥—Ä—É–ø–ø—ã –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —Ä–∞–±–æ—Ç—ã'
      );
      return;
    }
  } catch (error) {
    console.error('Error checking bot status:', error);
    return;
  }
  
  // –û–±—Ä–∞–±–æ—Ç–∞—Ç—å –∫–æ–º–∞–Ω–¥—ã
  if (text.startsWith('/link_project')) {
    await handleLinkProject(message, supabase);
  } else if (text.startsWith('/query')) {
    await handleGroupQuery(message, supabase);
  } else if (text.startsWith('/report')) {
    await handleGroupReport(message, supabase);
  } else if (text.startsWith('/notify')) {
    await handleGroupNotifications(message, supabase);
  } else if (text.startsWith('/help')) {
    await sendGroupHelp(chatId);
  }
}

// –ö–æ–º–∞–Ω–¥–∞ /link_project
async function handleLinkProject(message: any, supabase: any) {
  const chatId = message.chat.id;
  const userId = message.from.id;
  const args = message.text.split(' ');
  
  if (args.length < 2) {
    await sendMessage(
      chatId,
      '‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: /link_project <project_id>\n\n–ü—Ä–∏–º–µ—Ä: /link_project 123e4567-e89b-12d3-a456-426614174000'
    );
    return;
  }
  
  const projectId = args[1];
  
  // –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–ª–∞–¥–µ–ª–µ—Ü –ø—Ä–æ–µ–∫—Ç–∞
  const { data: user } = await supabase
    .from('telegram_users')
    .select('user_id')
    .eq('telegram_id', userId)
    .single();
  
  if (!user) {
    await sendMessage(
      chatId,
      '‚ùå –°–Ω–∞—á–∞–ª–∞ —Å–≤—è–∂–∏—Ç–µ —Å–≤–æ–π Telegram –∞–∫–∫–∞—É–Ω—Ç —Å Data Parse Desk.\n–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /start –≤ –ª–∏—á–Ω–æ–º —á–∞—Ç–µ —Å –±–æ—Ç–æ–º.'
    );
    return;
  }
  
  const { data: member } = await supabase
    .from('project_members')
    .select('role')
    .eq('project_id', projectId)
    .eq('user_id', user.user_id)
    .single();
  
  if (!member || member.role !== 'owner') {
    await sendMessage(
      chatId,
      '‚ùå –¢–æ–ª—å–∫–æ –≤–ª–∞–¥–µ–ª–µ—Ü –ø—Ä–æ–µ–∫—Ç–∞ –º–æ–∂–µ—Ç –ø—Ä–∏–≤—è–∑–∞—Ç—å –≥—Ä—É–ø–ø—É'
    );
    return;
  }
  
  // –°–æ–∑–¥–∞—Ç—å –∏–ª–∏ –æ–±–Ω–æ–≤–∏—Ç—å –∑–∞–ø–∏—Å—å
  const { error } = await supabase
    .from('telegram_group_chats')
    .upsert({
      chat_id: chatId,
      chat_title: message.chat.title,
      chat_type: message.chat.type,
      project_id: projectId,
      created_by: user.user_id,
      is_active: true,
    }, {
      onConflict: 'chat_id',
    });
  
  if (error) {
    await sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –ø—Ä–∏–≤—è–∑–∫–∏ –≥—Ä—É–ø–ø—ã');
    return;
  }
  
  await sendMessage(
    chatId,
    `‚úÖ –ì—Ä—É–ø–ø–∞ —É—Å–ø–µ—à–Ω–æ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –ø—Ä–æ–µ–∫—Ç—É!\n\n–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:\n/query - –≤—ã–ø–æ–ª–Ω–∏—Ç—å –∑–∞–ø—Ä–æ—Å\n/report - –ø–æ–ª—É—á–∏—Ç—å –æ—Ç—á–µ—Ç\n/notify - –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è\n/help - –ø–æ–º–æ—â—å`
  );
}

// –ö–æ–º–∞–Ω–¥–∞ /query
async function handleGroupQuery(message: any, supabase: any) {
  const chatId = message.chat.id;
  const query = message.text.replace('/query', '').trim();
  
  if (!query) {
    await sendMessage(
      chatId,
      '‚ùå –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: /query <–≤–∞—à –∑–∞–ø—Ä–æ—Å>\n\n–ü—Ä–∏–º–µ—Ä: /query –ø–æ–∫–∞–∂–∏ –≤—Å–µ –∞–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏'
    );
    return;
  }
  
  // –ü–æ–ª—É—á–∏—Ç—å project_id –¥–ª—è –≥—Ä—É–ø–ø—ã
  const { data: groupChat } = await supabase
    .from('telegram_group_chats')
    .select('project_id')
    .eq('chat_id', chatId)
    .eq('is_active', true)
    .single();
  
  if (!groupChat) {
    await sendMessage(
      chatId,
      '‚ùå –ì—Ä—É–ø–ø–∞ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–∞ –∫ –ø—Ä–æ–µ–∫—Ç—É. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ /link_project <project_id>'
    );
    return;
  }
  
  // –í—ã–ø–æ–ª–Ω–∏—Ç—å NL –∑–∞–ø—Ä–æ—Å
  try {
    const response = await fetch(
      `${SUPABASE_URL}/functions/v1/telegram-natural-language`,
      {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${SUPABASE_SERVICE_ROLE_KEY}`,
        },
        body: JSON.stringify({
          query,
          projectId: groupChat.project_id,
          chatId,
        }),
      }
    );
    
    const result = await response.json();
    
    if (result.error) {
      await sendMessage(chatId, `‚ùå ${result.error}`);
    } else {
      await sendMessage(chatId, result.response);
    }
  } catch (error) {
    await sendMessage(chatId, '‚ùå –û—à–∏–±–∫–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–∞');
  }
}

// –ö–æ–º–∞–Ω–¥–∞ /report
async function handleGroupReport(message: any, supabase: any) {
  const chatId = message.chat.id;
  const args = message.text.split(' ');
  
  // TODO: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏—é –æ—Ç—á–µ—Ç–æ–≤ –¥–ª—è –≥—Ä—É–ø–ø—ã
  await sendMessage(
    chatId,
    'üìä –î–æ—Å—Ç—É–ø–Ω—ã–µ –æ—Ç—á–µ—Ç—ã:\n\n1. –°–≤–æ–¥–∫–∞ –ø–æ –ø—Ä–æ–µ–∫—Ç—É\n2. –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏\n3. –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞ –Ω–µ–¥–µ–ª—é\n\n–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ: /report <–Ω–æ–º–µ—Ä>'
  );
}

// –ö–æ–º–∞–Ω–¥–∞ /notify
async function handleGroupNotifications(message: any, supabase: any) {
  const chatId = message.chat.id;
  const args = message.text.split(' ');
  
  // TODO: –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
  await sendMessage(
    chatId,
    'üîî –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:\n\n/notify on - –≤–∫–ª—é—á–∏—Ç—å\n/notify off - –≤—ã–∫–ª—é—á–∏—Ç—å'
  );
}

// Help –¥–ª—è –≥—Ä—É–ø–ø—ã
async function sendGroupHelp(chatId: number) {
  const helpText = `
üìö *–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:*

*–ù–∞—Å—Ç—Ä–æ–π–∫–∞:*
/link\\_project <id> - –ø—Ä–∏–≤—è–∑–∞—Ç—å –≥—Ä—É–ø–ø—É –∫ –ø—Ä–æ–µ–∫—Ç—É
/help - –ø–æ–∫–∞–∑–∞—Ç—å —ç—Ç—É —Å–ø—Ä–∞–≤–∫—É

*–†–∞–±–æ—Ç–∞ —Å –¥–∞–Ω–Ω—ã–º–∏:*
/query <–∑–∞–ø—Ä–æ—Å> - –≤—ã–ø–æ–ª–Ω–∏—Ç—å natural language –∑–∞–ø—Ä–æ—Å
/report <—Ç–∏–ø> - –ø–æ–ª—É—á–∏—Ç—å –æ—Ç—á–µ—Ç
/notify on|off - –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

*–ü—Ä–∏–º–µ—Ä—ã:*
/query –ø–æ–∫–∞–∂–∏ –≤—Å–µ –∑–∞–¥–∞—á–∏ —Å–æ —Å—Ç–∞—Ç—É—Å–æ–º "–í —Ä–∞–±–æ—Ç–µ"
/query —Å–∫–æ–ª—å–∫–æ –≤—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π?
/report 1 - —Å–≤–æ–¥–∫–∞ –ø–æ –ø—Ä–æ–µ–∫—Ç—É
  `;
  
  await sendMessage(chatId, helpText, { parse_mode: 'Markdown' });
}

// Helper: –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
async function sendMessage(chatId: number, text: string, options: any = {}) {
  await fetch(
    `https://api.telegram.org/bot${TELEGRAM_BOT_TOKEN}/sendMessage`,
    {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        chat_id: chatId,
        text,
        ...options,
      }),
    }
  );
}
```

```bash
# 3. –î–µ–ø–ª–æ–π
npx supabase db push
npx supabase functions deploy telegram-webhook

# 4. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
# - –°–æ–∑–¥–∞—Ç—å Telegram –≥—Ä—É–ø–ø—É
# - –î–æ–±–∞–≤–∏—Ç—å –±–æ—Ç–∞ –≤ –≥—Ä—É–ø–ø—É
# - –°–¥–µ–ª–∞—Ç—å –±–æ—Ç–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º
# - –í—ã–ø–æ–ª–Ω–∏—Ç—å /link_project <project_id>
# - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å /query –∫–æ–º–∞–Ω–¥—ã
# - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å /report
```

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏—é telegram_group_chats
- [ ] –û–±–Ω–æ–≤–∏—Ç—å telegram-webhook Edge Function
- [ ] –î–æ–±–∞–≤–∏—Ç—å handleGroupChat —Ñ—É–Ω–∫—Ü–∏—é
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å /link_project –∫–æ–º–∞–Ω–¥—É
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å /query –∫–æ–º–∞–Ω–¥—É
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å /report –∫–æ–º–∞–Ω–¥—É
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å /notify –∫–æ–º–∞–Ω–¥—É
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å /help –∫–æ–º–∞–Ω–¥—É
- [ ] –î–µ–ø–ª–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏
- [ ] –î–µ–ø–ª–æ–π Edge Function
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é –≥—Ä—É–ø–ø—É
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ –∫–æ–º–∞–Ω–¥—ã
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ README

---

## üü¢ –ù–ò–ó–ö–ò–ô –ü–†–ò–û–†–ò–¢–ï–¢ - –û–ü–¶–ò–û–ù–ê–õ–¨–ù–û

### –ó–∞–¥–∞—á–∞ 5: Bundle Size Optimization (8-10 —á–∞—Å–æ–≤)

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä bundle –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

**–¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ:**
```
dist/assets/fileParser-Bp6VlppD.js  960.88 KB ‚îÇ gzip: 277.88 KB (–û–ì–†–û–ú–ù–´–ô!)
dist/assets/chart-vendor.js         442.69 KB ‚îÇ gzip: 116.77 KB (–¢—è–∂–µ–ª—ã–π)
```

**–¶–µ–ª—å:** –£–º–µ–Ω—å—à–∏—Ç—å –¥–æ ~400 KB (-58%)

**–®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

```typescript
// 1. Code Splitting –¥–ª—è fileParser

// –í —Ñ–∞–π–ª–µ –≥–¥–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è fileParser (–Ω–∞–ø—Ä–∏–º–µ—Ä DatabaseView.tsx):

// –ë–´–õ–û:
import { parseFile } from '@/utils/fileParser';

// –°–¢–ê–õ–û:
const handleFileUpload = async (file: File) => {
  // Dynamic import - –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ –Ω—É–∂–Ω–æ
  const { parseFile } = await import('@/utils/fileParser');
  const result = await parseFile(file);
  // ...
};
```

```typescript
// 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å vite.config.ts

import { defineConfig } from 'vite';
import react from '@vitejs/plugin-react';
import path from 'path';

export default defineConfig({
  plugins: [react()],
  resolve: {
    alias: {
      '@': path.resolve(__dirname, './src'),
    },
  },
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          // –†–∞–∑–¥–µ–ª–∏—Ç—å vendors –Ω–∞ —á–∞—Å—Ç–∏
          'react-vendor': ['react', 'react-dom', 'react-router-dom'],
          'ui-vendor': [
            '@radix-ui/react-dialog',
            '@radix-ui/react-dropdown-menu',
            '@radix-ui/react-select',
            '@radix-ui/react-tabs',
            '@radix-ui/react-tooltip',
          ],
          'query-vendor': ['@tanstack/react-query'],
          'supabase-vendor': ['@supabase/supabase-js'],
          'chart-vendor': ['recharts'],
          'file-parsers': [
            'papaparse',
            'exceljs',
            'xml2js',
          ],
          'utils-vendor': [
            'date-fns',
            'clsx',
            'tailwind-merge',
          ],
        },
      },
    },
    // –£–≤–µ–ª–∏—á–∏—Ç—å –ª–∏–º–∏—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
    chunkSizeWarningLimit: 600,
  },
  optimizeDeps: {
    include: [
      'react',
      'react-dom',
      '@tanstack/react-query',
      '@supabase/supabase-js',
    ],
  },
});
```

```typescript
// 3. Lazy loading –¥–ª—è —Å—Ç—Ä–∞–Ω–∏—Ü

// –í src/main.tsx –∏–ª–∏ App.tsx:

import { lazy, Suspense } from 'react';
import { BrowserRouter, Routes, Route } from 'react-router-dom';

// Eager load (–¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å—Ç—Ä–∞–Ω–∏—Ü)
import Index from '@/pages/Index';
import Auth from '@/pages/Auth';

// Lazy load (–¥–ª—è –æ—Å—Ç–∞–ª—å–Ω—ã—Ö)
const Projects = lazy(() => import('@/pages/Projects'));
const ProjectView = lazy(() => import('@/pages/ProjectView'));
const DatabaseView = lazy(() => import('@/pages/DatabaseView'));
const Analytics = lazy(() => import('@/pages/Analytics'));
const Reports = lazy(() => import('@/pages/Reports'));
const Settings = lazy(() => import('@/pages/Settings'));
const ImportHistory = lazy(() => import('@/pages/ImportHistory'));
const Admin = lazy(() => import('@/pages/Admin'));

// Loading component
const PageLoader = () => (
  <div className="flex items-center justify-center min-h-screen">
    <div className="animate-spin rounded-full h-12 w-12 border-b-2 border-primary"></div>
  </div>
);

function App() {
  return (
    <BrowserRouter>
      <Suspense fallback={<PageLoader />}>
        <Routes>
          <Route path="/" element={<Index />} />
          <Route path="/auth" element={<Auth />} />
          <Route path="/projects" element={<Projects />} />
          <Route path="/projects/:projectId" element={<ProjectView />} />
          <Route path="/projects/:projectId/database/:databaseId" element={<DatabaseView />} />
          <Route path="/analytics" element={<Analytics />} />
          <Route path="/reports" element={<Reports />} />
          <Route path="/settings" element={<Settings />} />
          <Route path="/import-history" element={<ImportHistory />} />
          <Route path="/admin" element={<Admin />} />
        </Routes>
      </Suspense>
    </BrowserRouter>
  );
}
```

```bash
# 4. Build –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞

npm run build

# –ê–Ω–∞–ª–∏–∑ bundle
npx vite-bundle-visualizer

# –ò–ª–∏
npm install -D rollup-plugin-visualizer
# –î–æ–±–∞–≤–∏—Ç—å –≤ vite.config.ts:
import { visualizer } from 'rollup-plugin-visualizer';

plugins: [
  react(),
  visualizer({
    open: true,
    gzipSize: true,
    brotliSize: true,
  }),
],
```

```typescript
// 5. (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û) –ó–∞–º–µ–Ω–∏—Ç—å Recharts –Ω–∞ Chart.js

// –¢–æ–ª—å–∫–æ –µ—Å–ª–∏ –∫—Ä–∏—Ç–∏—á–Ω–∞ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

// –ë–´–õ–û (Recharts - 442 KB):
import { LineChart, Line, XAxis, YAxis } from 'recharts';

<LineChart data={data} width={600} height={300}>
  <XAxis dataKey="name" />
  <YAxis />
  <Line type="monotone" dataKey="value" stroke="#8884d8" />
</LineChart>

// –°–¢–ê–õ–û (Chart.js - ~100 KB):
import { Line } from 'react-chartjs-2';
import {
  Chart as ChartJS,
  CategoryScale,
  LinearScale,
  PointElement,
  LineElement,
  Title,
  Tooltip,
  Legend,
} from 'chart.js';

ChartJS.register(
  CategoryScale,
  LinearScale,
  PointElement,
  LineElement,
  Title,
  Tooltip,
  Legend
);

<Line
  data={{
    labels: data.map(d => d.name),
    datasets: [{
      label: 'Value',
      data: data.map(d => d.value),
      borderColor: '#8884d8',
    }],
  }}
  options={{
    responsive: true,
  }}
/>
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- üìâ Bundle size: 960 KB ‚Üí ~400 KB (-58%)
- ‚ö° Faster initial load
- üì¶ Better caching
- üöÄ Improved performance

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –î–æ–±–∞–≤–∏—Ç—å dynamic import –¥–ª—è fileParser
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å manualChunks –≤ vite.config.ts
- [ ] Lazy load –≤—Å–µ—Ö —Å—Ç—Ä–∞–Ω–∏—Ü
- [ ] –î–æ–±–∞–≤–∏—Ç—å PageLoader component
- [ ] Build –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞
- [ ] –ó–∞–ø—É—Å—Ç–∏—Ç—å vite-bundle-visualizer
- [ ] (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ó–∞–º–µ–Ω–∏—Ç—å Recharts –Ω–∞ Chart.js
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤—Å–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ lazy loading —Ä–∞–±–æ—Ç–∞–µ—Ç
- [ ] –ò–∑–º–µ—Ä–∏—Ç—å —É–ª—É—á—à–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

---

### –ó–∞–¥–∞—á–∞ 6: PWA Features (12-15 —á–∞—Å–æ–≤)

**–û–ø–∏—Å–∞–Ω–∏–µ:**
–î–æ–±–∞–≤–∏—Ç—å Progressive Web App —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å.

**–®–∞–≥–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**

```typescript
// 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Workbox
npm install -D workbox-build workbox-window

// 2. –°–æ–∑–¥–∞—Ç—å Service Worker: public/sw.js
import { precacheAndRoute } from 'workbox-precaching';
import { registerRoute } from 'workbox-routing';
import { NetworkFirst, CacheFirst, StaleWhileRevalidate } from 'workbox-strategies';
import { ExpirationPlugin } from 'workbox-expiration';

// Precache static assets
precacheAndRoute(self.__WB_MANIFEST);

// Cache API calls (Network First with 3s timeout)
registerRoute(
  ({ url }) => url.pathname.startsWith('/api/') || url.origin.includes('supabase'),
  new NetworkFirst({
    cacheName: 'api-cache',
    networkTimeoutSeconds: 3,
    plugins: [
      new ExpirationPlugin({
        maxEntries: 50,
        maxAgeSeconds: 5 * 60, // 5 minutes
      }),
    ],
  })
);

// Cache images (Cache First)
registerRoute(
  ({ request }) => request.destination === 'image',
  new CacheFirst({
    cacheName: 'images',
    plugins: [
      new ExpirationPlugin({
        maxEntries: 60,
        maxAgeSeconds: 30 * 24 * 60 * 60, // 30 Days
      }),
    ],
  })
);

// Cache fonts (Cache First)
registerRoute(
  ({ request }) => request.destination === 'font',
  new CacheFirst({
    cacheName: 'fonts',
    plugins: [
      new ExpirationPlugin({
        maxEntries: 30,
        maxAgeSeconds: 365 * 24 * 60 * 60, // 1 Year
      }),
    ],
  })
);

// Cache CSS & JS (Stale While Revalidate)
registerRoute(
  ({ request }) =>
    request.destination === 'style' ||
    request.destination === 'script',
  new StaleWhileRevalidate({
    cacheName: 'assets',
  })
);

// Background sync for failed requests
self.addEventListener('sync', (event) => {
  if (event.tag === 'sync-data') {
    event.waitUntil(syncData());
  }
});

async function syncData() {
  // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∫–æ–≥–¥–∞ online
  const cache = await caches.open('pending-requests');
  const requests = await cache.keys();
  
  for (const request of requests) {
    try {
      await fetch(request);
      await cache.delete(request);
    } catch (error) {
      console.error('Failed to sync:', error);
    }
  }
}
```

```typescript
// 3. –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è SW: src/registerSW.ts

export function registerServiceWorker() {
  if ('serviceWorker' in navigator) {
    window.addEventListener('load', async () => {
      try {
        const registration = await navigator.serviceWorker.register('/sw.js');
        console.log('SW registered:', registration);
        
        // –ü—Ä–æ–≤–µ—Ä—è—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–∂–¥—ã–µ 24 —á–∞—Å–∞
        setInterval(() => {
          registration.update();
        }, 24 * 60 * 60 * 1000);
        
        // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ–± –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏
        registration.addEventListener('updatefound', () => {
          const newWorker = registration.installing;
          newWorker?.addEventListener('statechange', () => {
            if (newWorker.state === 'installed' && navigator.serviceWorker.controller) {
              showUpdateNotification();
            }
          });
        });
      } catch (error) {
        console.error('SW registration failed:', error);
      }
    });
  }
}

function showUpdateNotification() {
  // –ü–æ–∫–∞–∑–∞—Ç—å toast —Å –∫–Ω–æ–ø–∫–æ–π –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
  const updateButton = document.createElement('button');
  updateButton.textContent = '–û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ';
  updateButton.onclick = () => {
    window.location.reload();
  };
  
  // –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å toast –±–∏–±–ª–∏–æ—Ç–µ–∫—É
  // toast.info('–î–æ—Å—Ç—É–ø–Ω–∞ –Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è', {
  //   action: {
  //     label: '–û–±–Ω–æ–≤–∏—Ç—å',
  //     onClick: () => window.location.reload(),
  //   },
  // });
}
```

```typescript
// 4. Offline detection: src/hooks/useOnlineStatus.ts

import { useState, useEffect } from 'react';

export function useOnlineStatus() {
  const [isOnline, setIsOnline] = useState(navigator.onLine);

  useEffect(() => {
    const handleOnline = () => {
      setIsOnline(true);
      // –ü–æ–∫–∞–∑–∞—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ
      toast.success('–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ');
      
      // –¢—Ä–∏–≥–≥–µ—Ä–Ω—É—Ç—å sync
      if ('serviceWorker' in navigator && 'sync' in ServiceWorkerRegistration.prototype) {
        navigator.serviceWorker.ready.then((registration) => {
          return registration.sync.register('sync-data');
        });
      }
    };

    const handleOffline = () => {
      setIsOnline(false);
      toast.warning('–í—ã offline. –î–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏');
    };

    window.addEventListener('online', handleOnline);
    window.addEventListener('offline', handleOffline);

    return () => {
      window.removeEventListener('online', handleOnline);
      window.removeEventListener('offline', handleOffline);
    };
  }, []);

  return isOnline;
}
```

```typescript
// 5. Install prompt: src/hooks/useInstallPrompt.ts

import { useState, useEffect } from 'react';

export function useInstallPrompt() {
  const [deferredPrompt, setDeferredPrompt] = useState<any>(null);
  const [isInstallable, setIsInstallable] = useState(false);

  useEffect(() => {
    const handler = (e: any) => {
      e.preventDefault();
      setDeferredPrompt(e);
      setIsInstallable(true);
    };

    window.addEventListener('beforeinstallprompt', handler);

    return () => {
      window.removeEventListener('beforeinstallprompt', handler);
    };
  }, []);

  const install = async () => {
    if (!deferredPrompt) return false;

    deferredPrompt.prompt();
    const { outcome } = await deferredPrompt.userChoice;
    
    console.log('Install outcome:', outcome);
    setDeferredPrompt(null);
    setIsInstallable(false);
    
    return outcome === 'accepted';
  };

  return { isInstallable, install };
}
```

```typescript
// 6. Install button component: src/components/InstallPWA.tsx

import { useInstallPrompt } from '@/hooks/useInstallPrompt';
import { Button } from '@/components/ui/button';
import { Download } from 'lucide-react';

export function InstallPWA() {
  const { isInstallable, install } = useInstallPrompt();

  if (!isInstallable) return null;

  return (
    <Button onClick={install} variant="outline">
      <Download className="h-4 w-4 mr-2" />
      –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    </Button>
  );
}
```

```typescript
// 7. –î–æ–±–∞–≤–∏—Ç—å –≤ Layout –∏–ª–∏ Header:

import { InstallPWA } from '@/components/InstallPWA';
import { useOnlineStatus } from '@/hooks/useOnlineStatus';

export function Header() {
  const isOnline = useOnlineStatus();

  return (
    <header>
      {/* ... */}
      
      {/* Offline indicator */}
      {!isOnline && (
        <div className="bg-yellow-500 text-white px-4 py-2 text-sm">
          ‚ö†Ô∏è –í—ã offline. –ò–∑–º–µ–Ω–µ–Ω–∏—è –±—É–¥—É—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω—ã –ø—Ä–∏ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏.
        </div>
      )}
      
      {/* Install button */}
      <InstallPWA />
    </header>
  );
}
```

```json
// 8. –û–±–Ω–æ–≤–∏—Ç—å manifest.json (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω):
{
  "name": "Data Parse Desk",
  "short_name": "DPD",
  "description": "Comprehensive data management platform",
  "start_url": "/",
  "display": "standalone",
  "background_color": "#ffffff",
  "theme_color": "#6366f1",
  "orientation": "portrait-primary",
  "icons": [
    {
      "src": "/icon-192.png",
      "sizes": "192x192",
      "type": "image/png",
      "purpose": "any maskable"
    },
    {
      "src": "/icon-512.png",
      "sizes": "512x512",
      "type": "image/png",
      "purpose": "any maskable"
    }
  ],
  "screenshots": [
    {
      "src": "/screenshot-1.png",
      "sizes": "1280x720",
      "type": "image/png"
    }
  ],
  "categories": ["productivity", "business"],
  "shortcuts": [
    {
      "name": "–ü—Ä–æ–µ–∫—Ç—ã",
      "url": "/projects",
      "description": "–û—Ç–∫—Ä—ã—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤"
    },
    {
      "name": "–ê–Ω–∞–ª–∏—Ç–∏–∫–∞",
      "url": "/analytics",
      "description": "–û—Ç–∫—Ä—ã—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É"
    }
  ]
}
```

```bash
# 9. Build –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

npm run build

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ Chrome DevTools:
# Application -> Service Workers -> –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é
# Application -> Manifest -> –ü—Ä–æ–≤–µ—Ä–∏—Ç—å manifest
# Lighthouse -> –ó–∞–ø—É—Å—Ç–∏—Ç—å PWA –∞—É–¥–∏—Ç

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ offline:
# Network tab -> Offline checkbox -> –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫—ç—à —Ä–∞–±–æ—Ç–∞–µ—Ç
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- üì± –†–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –Ω–∞—Ç–∏–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- üîå Offline mode
- üîî Push notifications (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- üíæ Cache API calls
- ‚ö° Faster repeat visits

**–ß–µ–∫–ª–∏—Å—Ç:**
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Workbox
- [ ] –°–æ–∑–¥–∞—Ç—å sw.js —Å –∫—ç—à —Å—Ç—Ä–∞—Ç–µ–≥–∏—è–º–∏
- [ ] –°–æ–∑–¥–∞—Ç—å registerSW.ts
- [ ] –°–æ–∑–¥–∞—Ç—å useOnlineStatus hook
- [ ] –°–æ–∑–¥–∞—Ç—å useInstallPrompt hook
- [ ] –°–æ–∑–¥–∞—Ç—å InstallPWA component
- [ ] –î–æ–±–∞–≤–∏—Ç—å offline indicator
- [ ] –û–±–Ω–æ–≤–∏—Ç—å manifest.json
- [ ] –°–æ–∑–¥–∞—Ç—å –∏–∫–æ–Ω–∫–∏ (192x192, 512x512)
- [ ] Build –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞
- [ ] Lighthouse PWA audit
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å offline mode
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å install prompt
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å sync –ø–æ—Å–ª–µ reconnect

---

## üìã –û–ë–©–ò–ô –ß–ï–ö–õ–ò–°–¢ (–í–°–ï –ó–ê–î–ê–ß–ò)

### üî¥ –ö—Ä–∏—Ç–∏—á–Ω—ã–µ (–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û)
- [ ] **–ó–∞–¥–∞—á–∞ 1:** –ò—Å–ø—Ä–∞–≤–∏—Ç—å 18 –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö RLS –ø–æ–ª–∏—Ç–∏–∫ (6-8—á)
- [ ] **–ó–∞–¥–∞—á–∞ 2:** –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å Calendar/Kanban/Gallery (3-4—á)
- [ ] **–ó–∞–¥–∞—á–∞ 3:** –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (2-3—á)

### üü° –°—Ä–µ–¥–Ω–∏–µ (–ñ–µ–ª–∞—Ç–µ–ª—å–Ω–æ)
- [ ] **–ó–∞–¥–∞—á–∞ 4:** Group Chat Support –≤ Telegram (6-8—á)

### üü¢ –ù–∏–∑–∫–∏–µ (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] **–ó–∞–¥–∞—á–∞ 5:** Bundle Size Optimization (8-10—á)
- [ ] **–ó–∞–¥–∞—á–∞ 6:** PWA Features (12-15—á)

**–í—Å–µ–≥–æ:** 37-48 —á–∞—Å–æ–≤ —Ä–∞–±–æ—Ç—ã

---

## üéØ –ü–†–ò–û–†–ò–¢–ï–¢–ù–´–ô –ü–û–†–Ø–î–û–ö –í–´–ü–û–õ–ù–ï–ù–ò–Ø

1. **–î–µ–Ω—å 1-2:** –ó–∞–¥–∞—á–∞ 1 (RLS –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å) - –ö–†–ò–¢–ò–ß–ù–û
2. **–î–µ–Ω—å 3:** –ó–∞–¥–∞—á–∞ 2 (Views –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è)
3. **–î–µ–Ω—å 4:** –ó–∞–¥–∞—á–∞ 3 (–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è)
4. **–ù–µ–¥–µ–ª—è 2:** –ó–∞–¥–∞—á–∞ 4 (Group Chat) - –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
5. **–ú–µ—Å—è—Ü 2:** –ó–∞–¥–∞—á–∏ 5-6 (–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è) - –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

---

**–î–æ–∫—É–º–µ–Ω—Ç —Å–æ–∑–¥–∞–Ω:** 21 –æ–∫—Ç—è–±—Ä—è 2025  
**–§–æ—Ä–º–∞—Ç:** –ö–æ–ø–∏—Ä—É–π-–≤—Å—Ç–∞–≤–ª—è–π —á–µ–∫–ª–∏—Å—Ç  
**–°—Ç–∞—Ç—É—Å:** –ì–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é  

ü§ñ Generated with [Claude Code](https://claude.com/claude-code)
